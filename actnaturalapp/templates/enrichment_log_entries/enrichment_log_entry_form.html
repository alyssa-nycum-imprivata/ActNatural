{% extends 'shared/base.html' %}
{% load static %}

{% block content %}

    {% comment %} {% if animal.id is not None %}
        <h3 class="page-header">Edit Animal:</h3>
    {% else %} {% endcomment %}
        <h3 class="page-header">Add Enrichment Log Entry:</h3>
    {% comment %} {% endif %} {% endcomment %}

    <div class="form-div">
        {% comment %} {% if animal.id is not None %}
            <form action="{% url 'actnaturalapp:animal' animal.id %}" method="post" enctype="multipart/form-data">
        {% else %} {% endcomment %}
            <form class="form" action="{% url 'actnaturalapp:enrichment_log_entries' %}" method="post">
        {% comment %} {% endif %} {% endcomment %}

                {% csrf_token %}

                <div class="input-div">
                    <label for="date">Date: </label>
                    <input required id="date" type="date" name="date" value="{{ enrichment_log_entry.date }}">
                </div>

                <div class="input-div">
                    <label for="animal">Animal: </label>
                    <select required class="form_select" id="animal" type="text" name="animal">
                        <option value="" disabled selected>Select</option>
                        {% for animal in animals %}
                            <option {% if animal.id == enrichment_log_entry.animal_id %}selected{% endif %} value="{{ animal.id }}">{{ animal.name }}</option>
                        {% endfor %}
                    </select>
                </div>

                <div class="input-div">
                        <label for="enrichment_item">Enrichment Item: </label>
                        <select required class="form_select" id="enrichment_item" type="text" name="enrichment_item">
                            <option value="" disabled selected>Select</option>
                            {% for enrichment_item in enrichment_items %}
                                <option {% if enrichment_item.id == enrichment_log_entry.enrichment_item_id %}selected{% endif %} value="{{ enrichment_item.id }}">{{ enrichment_item.name }}</option>
                            {% endfor %}
                        </select>
                </div>

                <div class="input-div">
                    <label for="note">Note (optional): </label>
                    <input id="note" type="text" name="note" value="{{ enrichment_log_entry.note }}">
                </div>

                {% comment %} {% if animal.id is not None %}
                    <input type="hidden" name="actual_method" value="PUT">
                    <button type="submit" class="waves-effect waves-light btn" value="Update">Update</button>
                {% else %} {% endcomment %}
                    <button type="submit" class="waves-effect waves-light btn" value="Add">Add</button>
                {% comment %} {% endif %} {% endcomment %}
        </form>
    </div>

{% endblock %}

{% block scripts %}
    <script src="{% static 'scripts/base.js' %}"></script>
{% endblock scripts %}